<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MLBB ID Checker</title>
  <style>
    body {
      background-color: #0f172a;
      font-family: sans-serif;
      color: white;
      text-align: center;
      padding: 20px;
    }
    .container {
      max-width: 400px;
      margin: auto;
      background: #1e293b;
      padding: 20px;
      border-radius: 10px;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
    }
    button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(to right, #06b6d4, #3b82f6);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 16px;
    }
    .result, .error {
      margin-top: 15px;
      padding: 12px;
      border-radius: 8px;
    }
    .result {
      background-color: #15803d;
    }
    .error {
      background-color: #dc2626;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>🔍 MLBB ID Checker</h2>
    <input type="text" id="mlbbId" placeholder="Enter MLBB ID" />
    <input type="text" id="server" placeholder="Enter Server ID" />
    <button onclick="checkMLBB()">စစ်ဆေးမည်</button>
    <div id="message" class=""></div>
  </div>

  <script>
    async function checkMLBB() {
      const id = document.getElementById('mlbbId').value.trim();
      const server = document.getElementById('server').value.trim();
      const message = document.getElementById('message');

      if (!id || !server) {
        message.className = "error";
        message.textContent = "ID နဲ့ Server ID နှစ်ခုလုံးထည့်ပါ။";
        return;
      }

      try {
        message.className = "";
        message.textContent = "စစ်နေပါသည်...";

        // 💡 Replace with actual live API when available
        const response = await fetch(`https://api.duniagames.co.id/api/transaction/v1/top-up/inquiry/store`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Accept": "application/json",
          },
          body: JSON.stringify({
            item_id: "2",
            catalog_id: "57",
            payment_id: "1",
            game_user_id: `${id}(${server})`
          })
        });

        const result = await response.json();

        if (result && result.data && result.data.user_id) {
          message.className = "result";
          message.textContent = `နာမည်: ${result.data.user_name} | နိုင်ငံ: ${result.data.zone_id} | ID: ${result.data.user_id}`;
        } else {
          message.className = "error";
          message.textContent = "စစ်လို့မရပါ။ Server မှတုံ့ပြန်မှုမရှိပါ။";
        }
      } catch (err) {
        message.className = "error";
        message.textContent = "❌ Server error! Internet ချိတ်ဆက်မှု လိုအပ်သည်။";
      }
    }
  </script>
</body>
</html>
